<input class="is-hidden" type="checkbox" name="attr_show_darkly" value="1" checked="checked"><input class="is-hidden" type="checkbox" name="attr_show_minty" value="1"><input type="hidden" name="attr_sheet_version" value="1.0"><div class="sr6cs darkly-theme minty-theme"><input class="is-hidden" type="checkbox" name="attr_show_view_overview" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_character" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_gear" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_augments" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_magic" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_matrix" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_social" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_vehicle" value="1"><input class="is-hidden" type="checkbox" name="attr_show_view_settings" value="1"><div class="view sr6cs-header"><div class="header-block"><h1 data-i18n="shadowrun-6e-charsheet">Shadowrun 6e Character Sheet</h1><div class="character-name"><label class="is-flex is-vcentered"><span data-i18n="charactername">Character</span><input name="attr_character_name" type="text" readonly="readonly" tabindex="-1"></label></div></div><div class="nav-block"><button class="nav-control-overview" type="action" data-view="overview" name="act_showview_overview" data-i18n="Overview">Overview</button><button class="nav-control-character" type="action" data-view="character" name="act_showview_character" data-i18n="Character">Character</button><button class="nav-control-background" type="action" data-view="background" name="act_showview_background" data-i18n="Background">Background</button><button class="nav-control-gear" type="action" data-view="gear" name="act_showview_gear" data-i18n="Gear">Gear</button><button class="nav-control-augments" type="action" data-view="augments" name="act_showview_augments" data-i18n="Augments">Augments</button><button class="nav-control-magic" type="action" data-view="magic" name="act_showview_magic" data-i18n="Magic">Magic</button><button class="nav-control-matrix" type="action" data-view="matrix" name="act_showview_matrix" data-i18n="Matrix">Matrix</button><button class="nav-control-social" type="action" data-view="social" name="act_showview_social" data-i18n="Social">Social</button><button class="nav-control-vehicle" type="action" data-view="vehicle" name="act_showview_vehicle" data-i18n="Vehicle">Vehicle</button><button class="nav-control-settings" type="action" data-view="settings" name="act_showview_settings" data-i18n="Settings">Settings</button></div></div><div class="view view-overview"><div class="attr-block mb-1 attr-initiative"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="initiative">Initiative</span><span class="is-half"><input class="input" name="attr_initiative" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-matrix_initiative"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="matrix_initiative">Matrix Initiative</span><span class="is-half"><input class="input" name="attr_matrix_initiative" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-astral_initiative"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="astral_initiative">Astral Initiative</span><span class="is-half"><input class="input" name="attr_astral_initiative" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-composure"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="composure">Composure</span><span class="is-half"><input class="input" name="attr_composure" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-composure"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="composure">Judge Intentions</span><span class="is-half"><input class="input" name="attr_composure" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-memory"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="memory">Memory</span><span class="is-half"><input class="input" name="attr_memory" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-lift_carry"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="lift_carry">Lift/Carry</span><span class="is-half"><input class="input" name="attr_lift_carry" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-movement"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="movement">Movement</span><span class="is-half"><input class="input" name="attr_movement" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-defence_rating"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="defence_rating">Defence Rating</span><span class="is-half"><input class="input" name="attr_defence_rating" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-edge_points"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="edge_points">Edge Points</span><span class="is-half"><input class="input" name="attr_edge_points" type="number" value="0" min="0"></span></label></div><div class="component condition-monitor"><h3>Condition Monitor</h3><div class="physical-damage-track"><div class="condition-box"><input type="hidden" name="attr_physical_condition_1"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_2"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_3"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_4"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_5"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_6"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_7"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_8"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_9"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_10"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_11"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_12"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_13"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_14"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_15"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_16"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_17"></div><div class="condition-box"><input type="hidden" name="attr_physical_condition_18"></div></div><div class="stun-damage-track"><div class="condition-box"><input type="hidden" name="attr_stun_condition_1"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_2"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_3"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_4"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_5"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_6"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_7"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_8"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_9"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_10"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_11"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_12"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_13"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_14"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_15"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_16"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_17"></div><div class="condition-box"><input type="hidden" name="attr_stun_condition_18"></div></div></div></div><div class="view view-character"><div class="col-6"><div class="personal-data"><div class="card"><div class="card-header"><h3 data-i18n="personaldata">Personal Data</h3></div><div class="card-body"><div class="attr-block mb-1 attr-primary_alias"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="primary_alias">Primary Alias</span><span class="is-half"><input class="input" name="attr_primary_alias" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-metatype"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="metatype">Metatype</span><span class="is-half"><input class="input" name="attr_metatype" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-ethnicity"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="ethnicity">Ethnicity</span><span class="is-half"><input class="input" name="attr_ethnicity" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-age"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="age">Age</span><span class="is-half"><input class="input" name="attr_age" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-sex"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="sex">Sex</span><span class="is-half"><input class="input" name="attr_sex" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-height"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="height">Height</span><span class="is-half"><input class="input" name="attr_height" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-weight"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="weight">Weight</span><span class="is-half"><input class="input" name="attr_weight" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-reputation"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="reputation">Reputation</span><span class="is-half"><input class="input" name="attr_reputation" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-heat"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="heat">Heat</span><span class="is-half"><input class="input" name="attr_heat" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-karma"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="karma">Karma</span><span class="is-half"><input class="input" name="attr_karma" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-tkarma"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="tkarma">Total Karma</span><span class="is-half"><input class="input" name="attr_tkarma" type="number" value="0" min="0"></span></label></div><div class="attr-block mb-1 attr-misc"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="misc">Misc</span><span class="is-half"><input class="input" name="attr_misc" type="text" value=""></span></label></div></div></div></div></div><div class="col-6"><div class="attributes"><div class="card"><div class="card-header"><h3 data-i18n="attributes">Attributes</h3></div><div class="card-body"><div class="is-flex is-paddingless"><div class="col-6">Attribute</div><div class="col-1"></div><div class="col-2">Bonus</div><div class="col-1"></div><div class="col-2">Total</div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-body"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="body">Body</span><span class="is-half"><input class="input" name="attr_body" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_body_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_body_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-agility"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="agility">Agility</span><span class="is-half"><input class="input" name="attr_agility" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_agility_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_agility_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-reaction"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="reaction">Reaction</span><span class="is-half"><input class="input" name="attr_reaction" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_reaction_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_reaction_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-strength"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="strength">Strength</span><span class="is-half"><input class="input" name="attr_strength" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_strength_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_strength_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-willpower"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="willpower">Willpower</span><span class="is-half"><input class="input" name="attr_willpower" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_willpower_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_willpower_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-logic"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="logic">Logic</span><span class="is-half"><input class="input" name="attr_logic" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_logic_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_logic_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-intuition"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="intuition">Intuition</span><span class="is-half"><input class="input" name="attr_intuition" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_intuition_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_intuition_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-charisma"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="charisma">Charisma</span><span class="is-half"><input class="input" name="attr_charisma" type="number" min="0" value="0"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_charisma_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_charisma_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-edge"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="edge">Edge</span><span class="is-half"><input class="input" name="attr_edge" type="number" min="0" value="0"></span></label><div class="col-1"></div><div class="col-2"></div><div class="col-1"></div><div class="col-2"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-unarmed"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="unarmed">Unarmed</span><span class="is-half"><input class="input" name="attr_auto_unarmed" type="number" value="0" readonly="readonly" tabindex="-1"></span></label><div class="col-1 text-center"><span>+</span></div><div class="col-2"><input class="input" name="attr_unarmed_bonus" type="number" min="0" value="0"></div><div class="col-1 text-center"><span>&#61;</span></div><div class="col-2"><input class="input" name="attr_auto_unarmed_total" value="0" readonly="readonly" tabindex="-1"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-essence"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="essence">Essence</span><span class="is-half"><input class="input" name="attr_essence" type="number" min="0" value="6"></span></label><div class="col-1"></div><div class="col-2"></div><div class="col-1"></div><div class="col-2"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-magic"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="magic">Magic</span><span class="is-half"><input class="input" name="attr_magic" type="number" min="0" value="0"></span></label><div class="col-1"></div><div class="col-2"></div><div class="col-1"></div><div class="col-2"></div></div><div class="is-flex is-vcentered is-paddingless mb-1 attr-resonance"><label class="is-flex col-6 is-vcentered"><span class="is-half" data-i18n="resonance">Resonance</span><span class="is-half"><input class="input" name="attr_resonance" type="number" min="0" value="0"></span></label><div class="col-1"></div><div class="col-2"></div><div class="col-1"></div><div class="col-2"></div></div></div></div></div></div><div class="col-12"><div class="skills"><div class="card"><div class="card-header"><h3 data-i18n="skills">Skills</h3></div><div class="card-body"><div class="flex-table"><div class="flex-table-header"><div class="col-4" data-i18n="skill">Skill</div><div class="col-2" data-i18n="rank">Rank</div><div class="col-3" data-i18n="attribute">Att</div><div class="col-1" data-i18n="specialization_a">Spec?</div><div class="col-2" data-i18n="notes">Notes</div></div><div class="is-flex"><fieldset class="repeating_skills"><div class="row is-vcentered"><div class="col-4"><input class="input" name="attr_name" type="text"></div><div class="col-2"><input class="input" name="attr_rank" type="number" min="0" value="0"></div><div class="col-3"><select class="input" name="attr_attribute"><option value="agility" data-i18n="agility">Agility</option><option value="body" data-i18n="body">Body</option><option value="charisma" data-i18n="charisma">Charisma</option><option value="intuition" data-i18n="intuition">Intuition</option><option value="logic" data-i18n="logic">Logic</option><option value="magic" data-i18n="magic">Magic</option><option value="reaction" data-i18n="reaction">Reaction</option><option value="resonance" data-i18n="resonance">Resonance</option><option value="strength" data-i18n="strength">Strength</option><option value="willpower" data-i18n="willpower">Willpower</option></select></div><div class="col-1"><div class="checkbox"><label><input name="attr_hasspec" type="checkbox" value="1"><span></span></label></div></div><div class="col-2"><input class="input" name="attr_notes" type="text"></div><input class="is-hidden" type="checkbox" name="attr_hasspec" value="1" readonly="readonly"><div class="col-6 light-bg"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="specialization">Specialization</span><span class="is-half"><input class="input" name="attr_specialization" type="text"></span></label></div><div class="col-6 light-bg"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="expertise">Expertise</span><span class="is-half"><input class="input" name="attr_expertise" type="text"></span></label></div></div></fieldset></div></div></div></div></div></div><div class="col-7"><div class="language"><div class="card"><div class="card-header"><h3 data-i18n="language">Language</h3></div><div class="card-body"><div class="flex-table"><div class="flex-table-header"><div class="col-6" data-i18n="language">Language</div><div class="col-6" data-i18n="level">Level</div></div><div class="is-flex"><fieldset class="repeating_language"><div class="row is-vcentered"><div class="col-6"><input class="input" name="attr_language" type="text"></div><div class="col-6"><select class="input" name="attr_level"><option value="1">Basic</option><option value="2">Specialist</option><option value="3">Expert</option><option value="4">Native</option></select></div></div></fieldset></div></div></div></div></div></div><div class="col-5"><div class="knowledge"><div class="card"><div class="card-header"><h3 data-i18n="knowledge">Knowledge</h3></div><div class="card-body"><div class="flex-table"><div class="flex-table-header"><div class="col-12" data-i18n="topic">Topic</div></div><div class="is-flex"><fieldset class="repeating_knowledge"><div class="row is-vcentered"><div class="col-12"><input class="input" name="attr_topic" type="text"></div></div></fieldset></div></div></div></div></div></div><div class="col-12"><div class="qualities"><div class="card"><div class="card-header"><h3>Qualities</h3></div><div class="card-body"><div class="flex-table"><div class="flex-table-header"><div class="col-4" data-i18n="quality">Quality</div><div class="col-2" data-i18n="karma">Karma</div><div class="col-5" data-i18n="notes">Notes</div><div class="col-1" data-i18n="positive_a">Pos?</div></div><div class="is-flex"><fieldset class="repeating_qualities"><div class="row is-vcentered"><div class="col-4"><input class="input" name="attr_quality" type="text"></div><div class="col-2"><input class="input" name="attr_karma" type="number" min="0" value="0"></div><div class="col-5"><input class="input" name="attr_notes" type="text"></div><div class="col-1"><div class="checkbox"><label><input name="attr_positive" type="checkbox" value="1"><span></span></label></div></div></div></fieldset></div></div></div></div></div></div></div><div class="view view-gear"><div class="component ranged-weapons"><h3 data-i18n="ranged-weapons">Ranged Weapons</h3><ul class="ranged-weapon-header"><li class="ranged-weapon-name" data-i18n="weapon">Weapon</li><li class="ranged-weapon-dv" data-i18n="dv">DV</li><li class="ranged-weapon-mode" data-i18n="mode">Mode</li><li class="ranged-weapon-close" data-i18n="close">Close</li><li class="ranged-weapon-near" data-i18n="near">Near</li><li class="ranged-weapon-far" data-i18n="far">Far</li><li class="ranged-weapon-extreme" data-i18n="extreme">Extreme</li><li class="ranged-weapon-ammo" data-i18n="ammo">Ammo</li></ul><fieldset class="repeating_ranged-weapon"><input name="attr_name" type="text"><input name="attr_dv" type="text"><input name="attr_mode" type="text"><input name="attr_close" type="text"><input name="attr_near" type="text"><input name="attr_fear" type="text"><input name="attr_extreme" type="text"><input name="attr_ammo" type="text"></fieldset></div><div class="component armor"><h3 data-i18n="armor">Armor</h3><ul class="armor-header"><li class="armor-name" data-i18n="armor">Armor</li><li class="armor-rating" data-i18n="rating">Rating</li><li class="armor-notes" data-i18n="notes">Notes</li></ul><fieldset class="repeating_armor"><input name="attr_name" type="text"><input name="attr_rating" type="text"><input name="attr_notes" type="text"></fieldset></div><div class="component gear"><h3 data-i18n="gear">Gear</h3><ul class="gear-header"><li class="gear-name" data-i18n="item">Item</li><li class="gear-rating" data-i18n="rating">Rating</li></ul><fieldset class="repeating_gear"><input name="attr_item" type="text"><input name="attr_rating" type="text"></fieldset></div><div class="component melee-weapons"><h3 data-i18n="melee-weapons">Melee Weapons</h3><ul class="melee-weapon-header"><li class="melee-weapon-name" data-i18n="weapon">Weapon</li><li class="melee-weapon-dv" data-i18n="dv">DV</li><li class="melee-weapon-close" data-i18n="close">Close</li></ul><fieldset class="repeating_melee-weapon"><input name="attr_weapon" type="text"><input name="attr_dv" type="text"><input name="attr_close" type="text"></fieldset></div></div><div class="view view-augments"><div class="component augmentations"><h3 data-i18n="augmentations">Augmentations</h3><ul class="augmentation-header"><li class="augmentation-name" data-i18n="augmentation">Augmentation</li><li class="augmentation-rating" data-i18n="rating">Rating</li><li class="augmentation-notes" data-i18n="notes">Notes</li><li class="augmentation-essence" data-i18n="essence">Essence</li></ul><fieldset class="repeating_augmentation"><input name="attr_name" type="text"><input name="attr_rating" type="text"><input name="attr_notes" type="text"><input name="attr_essence" type="text"></fieldset></div></div><div class="view view-magic"><div class="component spells"><h3 data-i18n="spells-preparations-rituals-complex-forms">Spells / Preparations / Rituals / Complex Forms</h3><ul class="spell-header"><li class="spell-sprcftype" data-i18n="s-p-r-cf">S/P/R/CF</li><li class="spell-type" data-i18n="type">Type</li><li class="spell-range" data-i18n="range">Range</li><li class="spell-duration" data-i18n="duration">Duration</li><li class="spell-drain" data-i18n="drain">Drain</li></ul><fieldset class="repeating_spell"><input name="attr_sprcftype" type="text"><input name="attr_type" type="text"><input name="attr_range" type="text"><input name="attr_duration" type="text"><input name="attr_drain" type="text"></fieldset></div><div class="component powers"><h3 data-i18n="powers-or-other-abilities">Adept Powers Or Other Abilities</h3><ul class="power-header"><li class="power-name" data-i18n="name">Name</li><li class="power-level" data-i18n="level">Level</li><li class="power-notes" data-i18n="notes">Notes</li></ul><fieldset class="repeating_power"><input name="attr_name" type="text"><input name="attr_level" type="text"><input name="attr_notes" type="text"></fieldset></div></div><div class="view view-matrix"><div class="component matrix-stats"><h3 data-i18n="matrix-stats">Matrix Stats</h3><div class="attr-block mb-1 attr-attack"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="attack">Attack</span><span class="is-half"><input class="input" name="attr_attack" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-sleaze"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="sleaze">Sleaze</span><span class="is-half"><input class="input" name="attr_sleaze" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-data_processing"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="data_processing">Data Proc.</span><span class="is-half"><input class="input" name="attr_data_processing" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-firewall"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="firewall">Firewall</span><span class="is-half"><input class="input" name="attr_firewall" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-devices_rating"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="devices_rating">Devices/DR</span><span class="is-half"><input class="input" name="attr_devices_rating" type="text" value=""></span></label></div><div class="attr-block mb-1 attr-programs"><label class="is-flex is-vcentered"><span class="is-half" data-i18n="programs">Programs</span><span class="is-half"><input class="input" name="attr_programs" type="text" value=""></span></label></div><div class="matrix-damage-track"><div class="condition-box"><input type="hidden" name="attr_matrix_condition_1"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_2"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_3"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_4"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_5"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_6"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_7"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_8"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_9"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_10"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_11"></div><div class="condition-box"><input type="hidden" name="attr_matrix_condition_12"></div></div></div></div><div class="view view-social"><div class="component contacts"><h3 data-i18n="contacts">Contacts</h3><ul class="contact-header"><li class="contact-name" data-i18n="contact">Contact</li><li class="contact-loyalty" data-i18n="loyalty">Loyalty</li><li class="contact-connection" data-i18n="connection">Connection</li></ul><fieldset class="repeating_contact"><input name="attr_name" type="text"><input name="attr_loyalty" type="text"><input name="attr_connection" type="text"></fieldset></div></div><div class="view view-vehicle"><div class="component vehicles"><h3 data-i18n="vehicles">Vehicles</h3><ul class="vehicle-header"><li class="vehicle-vehicle" data-i18n="vehicle">Vehicle</li><li class="vehicle-acceleration" data-i18n="acceleration">Acceleration</li><li class="vehicle-top_speed" data-i18n="top_speed">Top Speed</li><li class="vehicle-armor" data-i18n="armor">Armor</li><li class="vehicle-sensor" data-i18n="sensor">Sensor</li><li class="vehicle-handling" data-i18n="handling">Handling</li><li class="vehicle-speed_interval" data-i18n="speed_interval">Speed Interval</li><li class="vehicle-body" data-i18n="body">Body</li><li class="vehicle-pilot" data-i18n="pilot">Pilot</li><li class="vehicle-seats" data-i18n="seats">Seats</li><li class="vehicle-notes" data-i18n="notes">Notes</li></ul><fieldset class="repeating_vehicle"><input name="attr_vechile" type="text"><input name="attr_acceleration" type="text"><input name="attr_top_speed" type="text"><input name="attr_armor" type="text"><input name="attr_sensor" type="text"><input name="attr_handling" type="text"><input name="attr_speed_interval" type="text"><input name="attr_body" type="text"><input name="attr_pilot" type="text"><input name="attr_seats" type="text"><input name="attr_notes" type="text"></fieldset></div></div><div class="view view-settings"><h3>Select Theme</h3><div class="theme-selection"><label>Darkly<input type="radio" name="attr_selected_theme_val" value="1" checked="checked"></label><label>Minty<input type="radio" name="attr_selected_theme_val" value="2"></label></div></div></div><script type="text/worker">const attributes = [
  { name: 'agility', abbr: 'Agi', display: 'Agility', hasBonus: true, type: 'physical' },
  { name: 'body', abbr: 'Bod', display: 'Body', hasBonus: true, type: 'physical' },
  { name: 'charisma', abbr: 'Cha', display: 'Charisma', hasBonus: true, type: 'mental' },
  { name: 'edge', display: 'Edge', hasBonus: false },
  { name: 'essence', display: 'Essence', hasBonus: false },
  { name: 'intuition', abbr: 'Int', display: 'Intuition', hasBonus: true, type: 'mental' },
  { name: 'logic', abbr: 'Log', display: 'Logic', hasBonus: true, type: 'mental' },
  { name: 'magic', abbr: 'Mag', display: 'Magic', hasBonus: false },
  { name: 'reaction', abbr: 'Rea', display: 'Reaction', hasBonus: true, type: 'physical' },
  { name: 'resonance', abbr: 'Res', display: 'Resonance', hasBonus: false },
  { name: 'strength', abbr: 'Str', display: 'Strength', hasBonus: true, type: 'physical' },
  { name: 'willpower', abbr: 'Wil', display: 'Willpower', hasBonus: true, type: 'mental' } 
];

const magicStrings = {
  auto: 'auto',
  bonus: 'bonus',
  total: 'total'
};

const views = ['overview', 'character', 'gear', 'augments', 'magic', 'matrix', 'social', 'vehicle', 'settings'];

const sheetUpdateCallbacks = {
  '1.0': function() {
    log('Intro version. Updating to 1.1!');
    sheetUpdateCallbacks['1.1']();
  },
  '1.1': function() {
    log('Sheet is up to date!');
    setAttrs({ sheet_version: '1.1' });
  }
};

function log(output) {
  console.log(`[SR6CS]: `, output);
}

function selectTheme(eve) {
  if (eve.newValue == 1) {
    setAttrs({ show_darkly: 1, show_minty: 0 });
  } else if (eve.newValue == 2) {
    setAttrs({ show_darkly: 0, show_minty: 1 });
  }
}

function sheetOpened() {
  log('Thanks for using the Shadowrun 6e Charactersheet.');
  updateView('overview');

  // Grab the version
  getAttrs(['sheet_version'], (values) => {
    log(`You are currently using sheet version ${values.sheet_version}`);
    
    if(sheetUpdateCallbacks[values.sheet_version]) {
      sheetUpdateCallbacks[values.sheet_version]();
    }
  });

  getSectionIDs(['skills'], (values) => {
    log(values);
  });
}

function updateAttribute(attr) {
  if (attr.hasBonus) {
    updateBonusAttr(attr);
  }
}

function updateBonusAttr(attr) {
  const attrName = attr.name;
  const bonusName = `${attr.name}_${magicStrings.bonus}`;
  const totalName = `${magicStrings.auto}_${attr.name}_${magicStrings.total}`;
  getAttrs([attrName, bonusName], (vals) => {
    const sum = parseInt(vals[attrName]) + parseInt(vals[bonusName]);
    const updateObj = {};
    updateObj[totalName] = sum;
    setAttrs(updateObj);
    log(updateObj);
  });
}

function updateView(view) {
  const viewAttrs = {};
  views.forEach((val) => viewAttrs[`show_view_${val}`] = 0);
  viewAttrs[`show_view_${view}`] = 1;
  setAttrs(viewAttrs);
}

on('change:selected_theme_val', selectTheme);
on('sheet:opened', sheetOpened);

attributes.forEach(attr => on(`change:${attr.name}`, (reve) => updateAttribute(attr, reve)));
attributes.filter(x => x.hasBonus).forEach(attr => on(`change:${attr.name}_${magicStrings.bonus}`, (reve) => updateBonusAttr(attr, reve)));
views.forEach((view) => on(`clicked:showview_${view}`, (reve) => updateView(view, reve)));</script>